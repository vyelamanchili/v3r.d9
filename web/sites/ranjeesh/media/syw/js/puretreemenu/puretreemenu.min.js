class pureTreeMenu{constructor(e){if(this.config={containerSelector:".rawmenu",parentSelector:".deeper",indent:!0,iconPrefixClass:"",iconRetractedClass:"",iconExpandedClass:""},void 0!==e){let t=e;for(let i in t)void 0!=t[i]&&(this.config[i]=t[i])}this.init()}init(){let e=this.config.containerSelector;document.querySelectorAll(e).forEach(function(e){this.config.indent||e.classList.add("no-indent"),e.querySelectorAll(this.config.parentSelector).forEach(function(e){let t=document.createElement("a"),i="";""==this.config.iconPrefixClass?i=" no-icon":(i=" "+this.config.iconPrefixClass,e.classList.contains("active")||e.classList.contains("expanded")?this.config.iconExpandedClass&&(i+=" "+this.config.iconExpandedClass):this.config.iconRetractedClass&&(i+=" "+this.config.iconRetractedClass)),t.setAttribute("class","expcol"+i),t.setAttribute("href",""),t.setAttribute("onclick","return false"),e.insertBefore(t,e.firstChild)},this),e.querySelectorAll(this.config.parentSelector+" .expcol").forEach(function(e){this.switcher(e,this.config.iconRetractedClass,this.config.iconExpandedClass)},this),e.querySelectorAll(this.config.parentSelector+' a[href="#"]').forEach(function(e){this.switcher(e,this.config.iconRetractedClass,this.config.iconExpandedClass)},this)},this)}switcher(e,t,i){e.addEventListener("click",function(s){s.preventDefault();let n=e.parentNode;!n.classList.contains("active")&&(n.classList.contains("expanded")?(n.classList.remove("expanded"),t&&e.classList.add(t),i&&e.classList.remove(i)):(n.classList.add("expanded"),i&&e.classList.add(i),t&&e.classList.remove(t)))},this)}}
window.pureTreeMenu=pureTreeMenu;
